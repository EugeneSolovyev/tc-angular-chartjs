/**
 * tc-angular-chartjs - http://carlcraig.github.io/tc-angular-chartjs/
 * Copyright (c) 2016 Carl Craig
 * Dual licensed with the Apache-2.0 or MIT license.
 */
!function(t,e){"function"==typeof define&&define.amd?define(["angular","chart.js"],e):"object"==typeof exports?module.exports=e(require("angular"),require("chart.js")):t.tcAngularChartjs=e(t.angular,t.Chart)}(this,function(t,e){function r(t){return new t}function n(t){return new t("line")}function c(t){return new t("bar")}function a(t){return new t("radar")}function i(t){return new t("polararea")}function o(t){return new t("pie")}function u(t){return new t("doughnut")}function s(t){return new t("bubble")}function h(){return function(r){function n(n,a,i){var o,u=a[0].getContext("2d"),s=!1,h=!1,d=!1,f=null;for(var l in i)"chartLegend"===l?s=!0:"chart"===l?d=!0:"autoLegend"===l&&(h=!0);n.$on("$destroy",function(){o&&"function"==typeof o.destroy&&o.destroy()}),n.click&&(a[0].onclick=function(t){var e={chartEvent:t,element:o.getElementAtEvent(t),elements:o.getElementsAtEvent(t),dataset:o.getDatasetAtEvent(t)};n.click({event:e})}),n.$watch("[data, options]",function(i){if(i&&n.data){o&&"function"==typeof o.destroy&&o.destroy();var l=r||n.type;if(!l)throw"Error creating chart: Chart type required.";l=c(l),o=new e(u,{type:l,data:t.copy(n.data),options:n.options}),s&&(n.legend=o.generateLegend()),h&&(f&&f.remove(),t.element(a[0]).after(o.generateLegend()),f=t.element(a[0]).next()),d&&(n.chart=o),o.resize()}},!0)}function c(t){var e=t.toLowerCase();switch(e){case"polararea":return"polarArea";default:return t}}return{restrict:"A",scope:{data:"=chartData",options:"=chartOptions",type:"@chartType",legend:"=?chartLegend",chart:"=?chart",click:"&chartClick"},link:n}}}function d(){function t(t,e){t.$watch("legend",function(t){t&&e.html(t)},!0)}return{restrict:"A",scope:{legend:"=?chartLegend"},link:t}}return r.$inject=["TcChartjsFactory"],n.$inject=["TcChartjsFactory"],c.$inject=["TcChartjsFactory"],a.$inject=["TcChartjsFactory"],i.$inject=["TcChartjsFactory"],o.$inject=["TcChartjsFactory"],u.$inject=["TcChartjsFactory"],s.$inject=["TcChartjsFactory"],t.module("tc.chartjs",[]).directive("tcChartjs",r).directive("tcChartjsLine",n).directive("tcChartjsBar",c).directive("tcChartjsRadar",a).directive("tcChartjsPolararea",i).directive("tcChartjsPie",o).directive("tcChartjsDoughnut",u).directive("tcChartjsBubble",s).directive("tcChartjsLegend",d).factory("TcChartjsFactory",h),h});